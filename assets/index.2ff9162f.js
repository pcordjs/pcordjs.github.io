import{j as L,a as N,F as O,_ as $,l as h,y as m,O as D,S as E}from"./vendor.5091e56e.js";function ge(){import("data:text/javascript,")}const A=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}};A();const r=L,l=N,u=O;function T(e){const n=["group inline-flex gap-2 items-baseline"];return e.hoverBox&&n.push("hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg px-3 py-2.5"),l("a",{href:e.href,class:n.join(" "),children:[r("i",{class:e.icon}),r("span",{class:"group-focus:underline group-hover:underline",children:e.children})]})}function H(e){return r("img",{src:e.src,class:"w-10 h-10 sm:w-14 sm:h-14 mr-5 inline-block"})}function P(e){return r(T,{href:e.href,icon:`${e.icon} text-2xl sm:text-xl -mr-2 sm:mr-0`,hoverBox:!0,children:r("span",{class:"font-light hidden sm:inline",children:e.children})})}function U(){return l("div",{class:"p-2 px-4 shadow-md -mb-1 flex justify-between items-center",children:[l("a",{href:"/",children:[r(H,{src:"/pcord.png"}),r("span",{class:"text-3xl font-title align-middle dark:text-white-100",children:"pcordjs"})]}),l("div",{class:"text-xl space-x-1",children:[r(P,{href:"https://github.com/pcordjs",icon:"fa-brands fa-github",children:"GitHub"}),r(P,{href:"#",icon:"fa-solid fa-file-lines",children:"Documentation"})]})]})}const B="_text_6l2fu_1",J="_blink_6l2fu_1";var q={text:B,blink:J};const F=150,R=1500;class G extends ${constructor(n){super(n);var s;this.timer=null,this.state={phrase:(s=this.props.phrases[Math.floor(Math.random()*this.props.phrases.length)])!=null?s:"",progress:0}}componentDidMount(){const n=()=>{this.setState(s=>({progress:s.progress+1})),this.state.phrase.length-1!==this.state.progress&&(this.timer=setTimeout(n,F))};this.timer=setTimeout(n,R)}componentWillUnmount(){this.timer!==null&&clearInterval(this.timer)}render(){var n,s;return r("span",{class:`${(n=q.text)!=null?n:""} after:inline-block after:h-8 sm:after:h-10 after:align-middle after:w-0.5 after:ml-1 ${(s=this.props.class)!=null?s:""}`,children:this.state.phrase.slice(0,this.state.progress)})}}const K=["modular","work-in-progress","flexible","fully typed","engineerable"];function Y(){return r("div",{class:"h-[40vh] sm:h-[60vh] bg-gray-200 dark:bg-gray-800 bg-gradient-to-tr from-indigo-300 dark:from-indigo-900 flex justify-center items-center",children:l("h1",{class:"text-3xl sm:text-4xl w-1/2 text-center",children:["The"," ",r("span",{class:"text-rose-500 underline",children:r(G,{class:"after:bg-rose-500",phrases:K})})," ","Discord API framework."]})})}const y=new Map,g=new Set;let z=0;function C(){return[...y.entries()].map(([e,n])=>r(n,{},e))}function V(){const[e,n]=h(C());return m(()=>{function s(){n(C())}return g.add(s),()=>g.delete(s)}),r(u,{children:e})}function W(e,n=!1){const[s,a]=h(n);return m(()=>{if(s){const t=z++;return y.set(t,e),setTimeout(()=>{for(const i of g)i()}),()=>{y.delete(t);for(const i of g)i()}}}),[s,a]}function Q(e){return r("div",{class:"mx-4 sm:mx-8",children:r("main",{class:"m-auto pt-14 max-w-prose text-lg text-center space-y-4",children:e.children})})}function X(e){return r("h1",{class:"text-2xl font-bold",children:e.children})}const Z="_spinner_1pamm_1",ee="_spin_1pamm_1";var re={spinner:Z,spin:ee};function te(e){var n,s,a;return r("div",{class:`w-5 h-5 rounded-full border-2 border-transparent will-change-transform ${(n=re.spinner)!=null?n:""} ${(a=(s=e.class)==null?void 0:s.concat(" "))!=null?a:""}`,children:r("span",{class:"sr-only",children:"Loading"})})}const I=new D({auth:{}.VITE_GITHUB_TOKEN});let f=Number(1e3*60*60);f===-1&&(f=null);function M(e){return localStorage.setItem("projects",JSON.stringify(e)),localStorage.setItem("lastUpdated",JSON.stringify(Date.now())),e}function ne(){const e=localStorage.getItem("projects"),n=localStorage.getItem("lastUpdated");return e&&(!n||f===null||Date.now()-JSON.parse(n)<f)?JSON.parse(e):null}const se=()=>{var n;const e=Promise.resolve((n=ne())!=null?n:I.request("GET /orgs/{org}/repos",{org:"pcordjs"}).then(s=>s.data.map(a=>{var t;return{name:a.name,description:(t=a.description)!=null?t:"No description",url:a.html_url,installable:null,id:a.id}})).then(M));return e.catch(console.error),e},le=async e=>{var s;if(((s=e[0])==null?void 0:s.installable)!==null)return;const n=e.map(a=>I.request("GET /repos/{owner}/{repo}/releases/latest",{owner:"pcordjs",repo:a.name}).then(()=>a.installable=!0).catch(()=>a.installable=!1));await Promise.all(n),M(e)};function ae(e){return r("div",{children:r("div",{class:"fixed inset-0 z-10 overflow-y-auto bg-black/60",onClick:e.onClose,children:r("div",{class:"flex items-center justify-center m-8 sm:m-12",children:l("div",{class:"bg-white dark:bg-gray-700 rounded-lg shadow-xl shadow-black/40 p-6 w-full max-w-prose",autoFocus:!0,onClick:n=>n.stopPropagation(),"aria-modal":"true",children:[!e.noCloseButton&&r("div",{class:"flex justify-end -mb-2",children:r("button",{class:"text-2xl leading-[0.5] w-6 h-6 text-gray-500 hover:text-gray-700","aria-label":"Close",onClick:e.onClose,children:"\xD7"})}),r("div",{children:e.children})]})})})})}function ie(e){return r("code",{class:"px-[0.25em] bg-gray-200 dark:bg-gray-800 rounded-[0.3em]",children:e.children})}let p=null,b=null;function oe(e){localStorage.setItem("preferredPackageManager",JSON.stringify(e))}function ce(){const e=localStorage.getItem("preferredPackageManager");return e?JSON.parse(e):0}function _(e){const[,n]=W(()=>{var w,k;const[t,i]=h(ce()),[c,d]=h(!1);m(()=>{if(!c)return;const o=setTimeout(()=>d(!1),2e3);return()=>{clearTimeout(o),d(!1)}});const x=o=>o===0?"npm":o===1?"pnpm":"Yarn",v=o=>{var j,S;return`${x(o).toLowerCase()} ${t===0?"install":"add"} @pcordjs/${(S=(j=e.project)==null?void 0:j.name)!=null?S:"<project>"}`};return l(ae,{onClose:()=>n(!1),children:[l("h1",{class:"text-4xl font-bold text-center mb-8",children:["Install ",r(ie,{children:(k=(w=e.project)==null?void 0:w.name)!=null?k:"<project>"})]}),l("div",{class:"text-lg space-y-4",children:[r("p",{children:"All pcordjs projects are distributed on the npm registry. You may use any compatible package manager to install one."}),l("div",{children:[r("div",{children:[0,1,2].map(o=>r("button",{class:`bg-gray-100 dark:bg-gray-800 font-bold py-2 px-4 first:rounded-tl-lg last:rounded-tr-lg border-b-2 ${o===t?"border-rose-500":"border-gray-100 dark:border-gray-800"}`,onClick:()=>{i(o),oe(o)},children:x(o)}))}),l("pre",{class:"bg-gray-100 dark:bg-gray-800 px-8 py-4 flex items-center justify-between rounded rounded-tl-none",children:[r("code",{children:v(t)}),r("button",{class:"px-2 py-1 -my-1",onClick:()=>{navigator.clipboard.writeText(v(t)).then(()=>d(!0)).catch(console.error)},children:r("i",{class:`fa-solid ${c?"fa-check text-green-600 dark:text-green-500":"fa-copy text-gray-500 dark:text-gray-300"}`})})]})]})]})]})});let s="text-left bg-white dark:bg-gray-700 rounded-lg flex-auto shadow basis-0 min-w-[14rem] flex flex-col justify-between";e.project||(s+=" animate-pulse");function a(){var i,c,d;let t="px-4 py-1 rounded-xl outline-none outline-offset-0";return((i=e.project)==null?void 0:i.installable)?t+=" text-white bg-rose-500":((c=e.project)==null?void 0:c.installable)===!1?t+=" text-gray-300 bg-gray-400 cursor-not-allowed focus:outline-rose-300":t+=" bg-gray-300 dark:bg-gray-500 cursor-wait",!e.project||e.project.installable!==!1?r("button",{class:t,onClick:()=>n(!0),children:r("div",{class:e.project?"py-0.5":"invisible",children:typeof((d=e.project)==null?void 0:d.installable)=="boolean"?"Install":r(te,{class:"border-b-white"})})}):null}return l("article",{class:s,children:[r("div",{class:"p-4",children:e.project?l(u,{children:[r("h3",{class:"font-semibold text-lg font-title",children:e.project.name}),r("p",{class:"text-gray-400 antialiased",children:e.project.description})]}):l("div",{class:"space-y-4",children:[r("div",{class:"rounded-lg h-3 w-1/4 bg-gray-300 dark:bg-gray-500"}),l("div",{class:"flex space-x-3 w-1/2",children:[r("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 flex-1"}),r("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 w-1/3"})]})]})}),r("div",{class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-b-lg flex items-center gap-4",children:e.project?l(u,{children:[a(),r(T,{href:e.project.url,icon:"fa-brands fa-github",children:r("span",{class:"text-gray-400",children:"Source"})})]}):l(u,{children:[a(),r("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 w-[6ch]"})]})})]})}function de(){const[e,n]=h({loading:0,cardData:null});e.loading===0&&m(()=>{p||(p=se()),p.then(t=>{n({loading:1,cardData:t}),b||(b=le(t)),b.finally(()=>n({loading:2,cardData:t}))}).catch(()=>n({loading:3,cardData:null}))});function*s(){for(let t=0;t<3;t++)yield r(_,{},t)}function a(){if(e.loading===3)return"Unavailable";if(e.loading===0)return l(u,{children:[r("span",{class:"sr-only",children:"Loading"}),[...s()]]});if(e.cardData)return e.cardData.map(t=>r(_,{project:t},t.id));throw new Error("unreachable")}return r("div",{children:l("div",{class:"p-4 mb-3 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[r(X,{children:"Projects"}),r("div",{class:"flex p-4 gap-8 flex-wrap",children:a()})]})})}var ue="/assets/ts-logo-128.25e995fa.svg";function he(){return l(u,{children:[r(V,{}),r(U,{}),r(Y,{}),l(Q,{children:[l("p",{children:["Pcordjs is an open-source framework for the Discord API, targeting"," ",r("img",{src:ue,class:"inline h-4 w-4 select-none"})," TypeScript and"," ",r("i",{class:"fa-brands fa-node-js text-green-600"})," Node.js."]}),r("p",{children:"Most modules have not started development, or are in the pre-release stage. Expect lacking documentation and somewhat unreliable code."}),r(de,{})]})]})}E(r(he,{}),document.body);export{ge as __vite_legacy_guard};
