import{j as w,a as j,F as k,_,l as m,y as b,O as S,S as P}from"./vendor.5091e56e.js";function X(){import("data:text/javascript,")}const L=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};L();const t=w,a=j,c=k;function x(e){const r=["group inline-flex gap-2 items-baseline"];return e.hoverBox&&r.push("hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg px-3 py-2.5"),a("a",{href:e.href,class:r.join(" "),children:[t("i",{class:e.icon}),t("span",{class:"group-focus:underline group-hover:underline",children:e.children})]})}function I(e){return t("img",{src:e.src,class:"w-10 h-10 sm:w-14 sm:h-14 mr-5 inline-block"})}function h(e){return t(x,{href:e.href,icon:`${e.icon} text-2xl sm:text-xl -mr-2 sm:mr-0`,hoverBox:!0,children:t("span",{class:"font-light hidden sm:inline",children:e.children})})}function T(){return a("div",{class:"p-2 px-4 shadow-md -mb-1 flex justify-between items-center",children:[a("a",{href:"/",children:[t(I,{src:"/pcord.png"}),t("span",{class:"text-3xl font-title align-middle dark:text-white-100",children:"pcordjs"})]}),a("div",{class:"text-xl space-x-1",children:[t(h,{href:"https://github.com/pcordjs",icon:"fa-brands fa-github",children:"GitHub"}),t(h,{href:"#",icon:"fa-solid fa-file-lines",children:"Documentation"})]})]})}const O="_text_6l2fu_1",D="_blink_6l2fu_1";var E={text:O,blink:D};const M=150,N=1500;class $ extends _{constructor(r){super(r);var s;this.timer=null,this.state={phrase:(s=this.props.phrases[Math.floor(Math.random()*this.props.phrases.length)])!=null?s:"",progress:0}}componentDidMount(){const r=()=>{this.setState(s=>({progress:s.progress+1})),this.state.phrase.length-1!==this.state.progress&&(this.timer=setTimeout(r,M))};this.timer=setTimeout(r,N)}componentWillUnmount(){this.timer!==null&&clearInterval(this.timer)}render(){var r,s;return t("span",{class:`${(r=E.text)!=null?r:""} after:inline-block after:h-8 sm:after:h-10 after:align-middle after:w-0.5 after:ml-1 ${(s=this.props.class)!=null?s:""}`,children:this.state.phrase.slice(0,this.state.progress)})}}const H=["modular","work-in-progress","flexible","fully typed","engineerable"];function U(){return t("div",{class:"h-[40vh] sm:h-[60vh] bg-gray-200 dark:bg-gray-800 bg-gradient-to-tr from-indigo-300 dark:from-indigo-900 flex justify-center items-center",children:a("h1",{class:"text-3xl sm:text-4xl w-1/2 text-center",children:["The"," ",t("span",{class:"text-rose-500 underline",children:t($,{class:"after:bg-rose-500",phrases:H})})," ","Discord API framework."]})})}const A=new Map,f=new Set;function g(){return[...A.entries()].map(([e,r])=>t(r,{},e))}function C(){const[e,r]=m(g());return b(()=>{function s(){r(g())}return f.add(s),()=>f.delete(s)}),t(c,{children:e})}function q(e){return t("div",{class:"mx-4 sm:mx-8",children:t("main",{class:"m-auto pt-14 max-w-prose text-lg text-center space-y-4",children:e.children})})}function B(e){return t("h1",{class:"text-2xl font-bold",children:e.children})}const R="_spinner_1pamm_1",F="_spin_1pamm_1";var G={spinner:R,spin:F};function J(e){var r,s,l;return t("div",{class:`w-5 h-5 rounded-full border-2 border-transparent will-change-transform ${(r=G.spinner)!=null?r:""} ${(l=(s=e.class)==null?void 0:s.concat(" "))!=null?l:""}`,children:t("span",{class:"sr-only",children:"Loading"})})}const y=new S({auth:{}.VITE_GITHUB_TOKEN});function v(e){return localStorage.setItem("projects",JSON.stringify(e)),localStorage.setItem("lastUpdated",JSON.stringify(Date.now())),e}function K(){const e=localStorage.getItem("projects"),r=localStorage.getItem("lastUpdated");return e&&(!r||Date.now()-JSON.parse(r)<1e3*60*60)?JSON.parse(e):null}const V=()=>{var r;const e=Promise.resolve((r=K())!=null?r:y.request("GET /orgs/{org}/repos",{org:"pcordjs"}).then(s=>s.data.map(l=>{var n;return{name:l.name,description:(n=l.description)!=null?n:"No description",url:l.html_url,installable:null,id:l.id}})).then(v));return e.catch(console.error),e},W=async e=>{var s;if(((s=e[0])==null?void 0:s.installable)!==null)return;const r=e.map(l=>y.request("GET /repos/{owner}/{repo}/releases/latest",{owner:"pcordjs",repo:l.name}).then(()=>l.installable=!0).catch(()=>l.installable=!1));await Promise.all(r),v(e)};let d=null,u=null;function p(e){let r="text-left bg-white dark:bg-gray-700 rounded-lg flex-auto shadow basis-0 min-w-[14rem] flex flex-col justify-between";e.project||(r+=" animate-pulse");function s(){var n,i,o;let l="px-4 py-1 rounded-xl outline-none outline-offset-0";return((n=e.project)==null?void 0:n.installable)?l+=" text-white bg-rose-500":((i=e.project)==null?void 0:i.installable)===!1?l+=" text-gray-300 bg-gray-400 cursor-not-allowed focus:outline-rose-300":l+=" bg-gray-300 dark:bg-gray-500 cursor-wait",!e.project||e.project.installable!==!1?t("button",{class:l,children:t("div",{class:e.project?"py-0.5":"invisible",children:typeof((o=e.project)==null?void 0:o.installable)=="boolean"?"Install":t(J,{class:"border-b-white"})})}):null}return a("article",{class:r,children:[t("div",{class:"p-4",children:e.project?a(c,{children:[t("h3",{class:"font-semibold text-lg font-title",children:e.project.name}),t("p",{class:"text-gray-400 antialiased",children:e.project.description})]}):a("div",{class:"space-y-4",children:[t("div",{class:"rounded-lg h-3 w-1/4 bg-gray-300 dark:bg-gray-500"}),a("div",{class:"flex space-x-3 w-1/2",children:[t("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 flex-1"}),t("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 w-1/3"})]})]})}),t("div",{class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-b-lg flex items-center gap-4",children:e.project?a(c,{children:[s(),t(x,{href:e.project.url,icon:"fa-brands fa-github",children:t("span",{class:"text-gray-400",children:"Source"})})]}):a(c,{children:[s(),t("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 w-[6ch]"})]})})]})}function Y(){const[e,r]=m({loading:0,cardData:null});e.loading===0&&b(()=>{d||(d=V()),d.then(n=>{r({loading:1,cardData:n}),u||(u=W(n)),u.finally(()=>r({loading:2,cardData:n}))}).catch(()=>r({loading:3,cardData:null}))});function*s(){for(let n=0;n<3;n++)yield t(p,{},n)}function l(){if(e.loading===3)return"Unavailable";if(e.loading===0)return a(c,{children:[t("span",{class:"sr-only",children:"Loading"}),[...s()]]});if(e.cardData)return e.cardData.map(n=>t(p,{project:n},n.id));throw new Error("unreachable")}return t("div",{children:a("div",{class:"p-4 mb-3 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[t(B,{children:"Projects"}),t("div",{class:"flex p-4 gap-8 flex-wrap",children:l()})]})})}var z="/assets/ts-logo-128.25e995fa.svg";function Q(){return a(c,{children:[t(C,{}),t(T,{}),t(U,{}),a(q,{children:[a("p",{children:["Pcordjs is an open-source framework for the Discord API, targeting"," ",t("img",{src:z,class:"inline h-4 w-4 select-none"})," TypeScript and"," ",t("i",{class:"fa-brands fa-node-js text-green-600"})," Node.js."]}),t("p",{children:"Most modules have not started development, or are in the pre-release stage. Expect lacking documentation and somewhat unreliable code."}),t(Y,{})]})]})}P(t(Q,{}),document.body);export{X as __vite_legacy_guard};
