import{j as O,a as E,F as H,_ as A,l as f,y,O as U,S as q}from"./vendor.5091e56e.js";function ye(){import("data:text/javascript,")}const B=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};B();const r=O,a=E,h=H;function D(e){const t=["group inline-flex gap-2 items-baseline"];return e.hoverBox&&t.push("hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg px-3 py-2.5"),a("a",{href:e.href,class:t.join(" "),children:[r("i",{class:e.icon}),r("span",{class:"group-focus:underline group-hover:underline",children:e.children})]})}function J(e){return r("img",{src:e.src,class:"w-10 h-10 sm:w-14 sm:h-14 mr-5 inline-block"})}function F(e){return r(D,{href:e.href,icon:`${e.icon} text-2xl sm:text-xl -mr-2 sm:mr-0`,hoverBox:!0,children:r("span",{class:"font-light hidden sm:inline",children:e.children})})}function R(){return a("div",{class:"p-2 px-4 shadow-md -mb-1 flex justify-between items-center",children:[a("a",{href:"/",children:[r(J,{src:"/pcord.png"}),r("span",{class:"text-3xl font-title align-middle dark:text-white-100",children:"pcordjs"})]}),r("div",{class:"text-xl space-x-1",children:r(F,{href:"https://github.com/pcordjs",icon:"fa-brands fa-github",children:"GitHub"})})]})}const G="_text_6l2fu_1",K="_blink_6l2fu_1";var Y={text:G,blink:K};const z=150,V=1500;class W extends A{constructor(t){super(t);var s;this.timer=null,this.state={phrase:(s=this.props.phrases[Math.floor(Math.random()*this.props.phrases.length)])!=null?s:"",progress:0}}componentDidMount(){const t=()=>{this.setState(s=>({progress:s.progress+1})),this.state.phrase.length-1!==this.state.progress&&(this.timer=setTimeout(t,z))};this.timer=setTimeout(t,V)}componentWillUnmount(){this.timer!==null&&clearInterval(this.timer)}render(){var t,s;return r("span",{class:`${(t=Y.text)!=null?t:""} after:inline-block after:h-8 sm:after:h-10 after:align-middle after:w-0.5 after:ml-1 ${(s=this.props.class)!=null?s:""}`,children:this.state.phrase.slice(0,this.state.progress)})}}const Q=["modular","work-in-progress","flexible","fully typed","engineerable"];function X(){return r("div",{class:"h-[40vh] sm:h-[60vh] bg-gray-200 dark:bg-gray-800 bg-gradient-to-tr from-indigo-300 dark:from-indigo-900 flex justify-center items-center",children:a("h1",{class:"text-3xl sm:text-4xl w-1/2 text-center",children:["The"," ",r("span",{class:"text-rose-500 underline",children:r(W,{class:"after:bg-rose-500",phrases:Q})})," ","Discord API framework."]})})}const k=new Map,p=new Set;let Z=0;function M(){return[...k.entries()].map(([e,t])=>r(t,{},e))}function ee(){const[e,t]=f(M());return y(()=>{function s(){t(M())}return p.add(s),()=>p.delete(s)}),r(h,{children:e})}function re(e,t=!1){const[s,l]=f(t);return y(()=>{if(s){const n=Z++;return k.set(n,e),setTimeout(()=>{for(const o of p)o()}),()=>{k.delete(n);for(const o of p)o()}}}),[s,l]}function te(e){return r("div",{class:"mx-4 sm:mx-8",children:r("main",{class:"m-auto pt-14 max-w-prose text-lg text-center space-y-4",children:e.children})})}function ne(e){return r("h1",{class:"text-2xl font-bold",children:e.children})}const se="_spinner_1pamm_1",le="_spin_1pamm_1";var ae={spinner:se,spin:le};function oe(e){var t,s,l;return r("div",{class:`w-5 h-5 rounded-full border-2 border-transparent will-change-transform ${(t=ae.spinner)!=null?t:""} ${(l=(s=e.class)==null?void 0:s.concat(" "))!=null?l:""}`,children:r("span",{class:"sr-only",children:"Loading"})})}const L=new U({auth:{}.VITE_GITHUB_TOKEN});let b=Number(1e3*60*60);b===-1&&(b=null);function N(e){return localStorage.setItem("projects",JSON.stringify(e)),localStorage.setItem("lastUpdated",JSON.stringify(Date.now())),e}function ie(){const e=localStorage.getItem("projects"),t=localStorage.getItem("lastUpdated");return e&&(!t||b===null||Date.now()-JSON.parse(t)<b)?JSON.parse(e):null}const ce=()=>{var t;const e=Promise.resolve((t=ie())!=null?t:L.request("GET /orgs/{org}/repos",{org:"pcordjs"}).then(s=>s.data.map(l=>{var n,o;return{name:l.name,description:(n=l.description)!=null?n:"No description",url:l.html_url,installable:null,id:l.id,hasDocs:(o=l.has_pages)!=null?o:!1}})).then(N));return e.catch(console.error),e},de=async e=>{var s;if(((s=e[0])==null?void 0:s.installable)!==null)return;const t=e.map(l=>L.request("GET /repos/{owner}/{repo}/releases/latest",{owner:"pcordjs",repo:l.name}).then(()=>l.installable=!0).catch(()=>l.installable=!1));await Promise.all(t),N(e)};function ue(e){return r("div",{children:r("div",{class:"fixed inset-0 z-10 overflow-y-auto bg-black/60",onClick:e.onClose,children:r("div",{class:"flex items-center justify-center m-8 sm:m-12",children:a("div",{class:"bg-white dark:bg-gray-700 rounded-lg shadow-xl shadow-black/40 p-6 w-full max-w-prose",autoFocus:!0,onClick:t=>t.stopPropagation(),"aria-modal":"true",children:[!e.noCloseButton&&r("div",{class:"flex justify-end -mb-2",children:r("button",{class:"text-2xl leading-[0.5] w-6 h-6 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300","aria-label":"Close",onClick:e.onClose,children:"\xD7"})}),r("div",{children:e.children})]})})})})}function he(e){return r("code",{class:"px-[0.25em] bg-gray-200 dark:bg-gray-800 rounded-[0.3em]",children:e.children})}let x=null,v=null;function ge(e){localStorage.setItem("preferredPackageManager",JSON.stringify(e))}function fe(){const e=localStorage.getItem("preferredPackageManager");return e?JSON.parse(e):0}function $(e){var o,d,w,j;const[,t]=re(()=>{var C,_;const[c,m]=f(fe()),[g,u]=f(!1);y(()=>{if(!g)return;const i=setTimeout(()=>u(!1),2e3);return()=>{clearTimeout(i),u(!1)}});const S=i=>i===0?"npm":i===1?"pnpm":"Yarn",P=i=>{var T,I;return`${S(i).toLowerCase()} ${c===0?"install":"add"} @pcordjs/${(I=(T=e.project)==null?void 0:T.name)!=null?I:"<project>"}`};return a(ue,{onClose:()=>t(!1),children:[a("h1",{class:"text-4xl font-bold text-center mb-8",children:["Install ",r(he,{children:(_=(C=e.project)==null?void 0:C.name)!=null?_:"<project>"})]}),a("div",{class:"text-lg space-y-4",children:[r("p",{children:"All pcordjs projects are distributed on the npm registry. You may use any compatible package manager to install one."}),a("div",{children:[r("div",{children:[0,1,2].map(i=>r("button",{class:`bg-gray-100 dark:bg-gray-800 font-bold py-2 px-4 first:rounded-tl-lg last:rounded-tr-lg border-b-2 ${i===c?"border-rose-500":"border-gray-100 dark:border-gray-800"}`,onClick:()=>{m(i),ge(i)},children:S(i)}))}),a("div",{class:"bg-gray-100 dark:bg-gray-800 px-4 py-2 sm:px-8 sm:py-4 flex items-center justify-between rounded rounded-tl-none",children:[r("code",{children:P(c)}),r("button",{class:"px-2 py-1 -my-1",onClick:()=>{navigator.clipboard.writeText(P(c)).then(()=>u(!0)).catch(console.error)},children:r("i",{class:`fa-solid ${g?"fa-check text-green-600 dark:text-green-500":"fa-copy text-gray-500 dark:text-gray-300"}`})})]})]})]})]})});let s="text-left bg-white dark:bg-gray-700 rounded-lg flex-auto shadow basis-0 min-w-[14rem] flex flex-col justify-between";e.project||(s+=" animate-pulse");function l(){var m,g,u;let c="px-4 py-1 rounded-xl outline-none outline-offset-0";return((m=e.project)==null?void 0:m.installable)?c+=" text-white bg-rose-500":((g=e.project)==null?void 0:g.installable)===!1?c+=" text-gray-300 bg-gray-400 cursor-not-allowed focus:outline-rose-300":c+=" bg-gray-300 dark:bg-gray-500 cursor-wait",!e.project||e.project.installable!==!1?r("button",{class:c,onClick:()=>t(!0),children:r("div",{class:e.project?"py-0.5":"invisible",children:typeof((u=e.project)==null?void 0:u.installable)=="boolean"?"Install":r(oe,{class:"border-b-white"})})}):null}const n=((o=e.project)==null?void 0:o.hasDocs)?"a":"p";return a("article",{class:s,children:[r("div",{class:"p-4",children:e.project?a(h,{children:[a(n,{class:`font-semibold text-lg font-title ${((d=e.project)==null?void 0:d.hasDocs)?"hover:underline focus:underline":""}`,href:((w=e.project)==null?void 0:w.hasDocs)?`/${e.project.name}`:void 0,children:[e.project.name,((j=e.project)==null?void 0:j.hasDocs)?r("i",{class:"fa-solid fa-arrow-up-right-from-square ml-2 text-gray-500 text-sm"}):null]}),r("p",{class:"text-gray-400 antialiased",children:e.project.description})]}):a("div",{class:"space-y-4",children:[r("div",{class:"rounded-lg h-3 w-1/4 bg-gray-300 dark:bg-gray-500"}),a("div",{class:"flex space-x-3 w-1/2",children:[r("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 flex-1"}),r("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 w-1/3"})]})]})}),r("div",{class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-b-lg flex items-center gap-4",children:e.project?a(h,{children:[l(),r(D,{href:e.project.url,icon:"fa-brands fa-github",children:r("span",{class:"text-gray-400",children:"Source"})})]}):a(h,{children:[l(),r("div",{class:"rounded h-2 bg-gray-200 dark:bg-gray-600 w-[6ch]"})]})})]})}function me(){const[e,t]=f({loading:0,cardData:null});e.loading===0&&y(()=>{x||(x=ce()),x.then(n=>{t({loading:1,cardData:n}),v||(v=de(n)),v.finally(()=>t({loading:2,cardData:n}))}).catch(()=>t({loading:3,cardData:null}))});function*s(){for(let n=0;n<3;n++)yield r($,{},n)}function l(){if(e.loading===3)return"Unavailable";if(e.loading===0)return a(h,{children:[r("span",{class:"sr-only",children:"Loading"}),[...s()]]});if(e.cardData)return e.cardData.map(n=>r($,{project:n},n.id));throw new Error("unreachable")}return r("div",{children:a("div",{class:"p-4 mb-3 bg-gray-100 dark:bg-gray-900 rounded-lg",children:[r(ne,{children:"Projects"}),r("div",{class:"flex p-4 gap-8 flex-wrap",children:l()})]})})}var pe="/assets/ts-logo-128.25e995fa.svg";function be(){return a(h,{children:[r(ee,{}),r(R,{}),r(X,{}),a(te,{children:[a("p",{children:["Pcordjs is an open-source framework for the Discord API, targeting"," ",r("img",{src:pe,class:"inline h-4 w-4 select-none"})," TypeScript and"," ",r("i",{class:"fa-brands fa-node-js text-green-600"})," Node.js."]}),r("p",{children:"Most modules have not started development, or are in the pre-release stage. Expect lacking documentation and somewhat unreliable code."}),r(me,{})]})]})}q(r(be,{}),document.body);export{ye as __vite_legacy_guard};
